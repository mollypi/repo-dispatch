name: "Pull Request Labeler"
on:
- pull_request

jobs:
  triage:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/labeler@v3
      with:
        repo-token: "${{ secrets.GITHUB_TOKEN }}"

    repo:
    - '*'

    # Add '@domain/core' label to any change within the 'core' package
    @domain/core:
    - package/core/*
    - package/core/**/*

    # Add 'test' label to any change to *.spec.js files within the source dir
    test:
    - src/**/*.spec.js

    # Add 'source' label to any change to src files within the source dir EXCEPT for the docs sub-folder
    source:
    - any: ['src/**/*', '!src/docs/*']

    # Add 'frontend` label to any change to *.js files as long as the `main.js` hasn't changed
    frontend:
    - any: ['src/**/*.js']
      all: ['!src/main.js']

